# ูุงุจูุชโูุง ุงุณุชูุชุงุฌ ู ุชุญูู ุงุญุชูุงูุงุช ๐ง

## ุฎูุงุตู ูฺฺฏโูุง ุฌุฏุฏ

ุณุณุชู LangExtract ุญุงูุง ูุงุจูุช **ุงุณุชูุชุงุฌ ููุดููุฏ** ู **ุชุญูู ุงุญุชูุงูุงุช** ุฑุง ุฏุงุฑุฏ. ุงู ูุงุจูุช ุจู ุฌุง ุตุฑู ุดูุงุณุง ููุฌูุฏุชโูุง ูุณุชููุ ูโุชูุงูุฏ **ูุชุฌูโฺฏุฑ** ู **ุงุญุชูุงูโุณูุฌ** ฺฉูุฏ.

## ูุซุงู ฺฉุงุฑุจุฑุฏ ๐ฏ

### ูุชู ูุซุงู:
```
ุดุฎุต ุจุง ููุช ูุนููู ุ ุจุง ูุงู ฺฉู ุฎูุฏุด ฺฏูุชู ุจู ุงุณู ุญุณู ุฌูุฏุช ุดูุฏ 
ูุงุฑุฏ ฺฉ ูุบุงุฒู ุทูุงูุฑูุด ุดุฏู ุ ููุฏุงุฑ ุทูุง ุฑุง ุฎุฑุฏุงุฑ ฺฉุฑุฏู ูู 
ุจุฏูู ูพุฑุฏุงุฎุช ูพูู ู ุจุฏูู ุฏุฑุงูุช ูุงฺฉุชูุฑ ุงุฒ ูุบุงุฒู ุฎุงุฑุฌ ุดุฏู ุงุณุช
```

### ูุชุงุฌ ููุฑุฏ ุงูุชุธุงุฑ:

#### ููุฌูุฏุชโูุง ุดูุงุณุง ุดุฏู:
- `ุญุณู ุฌูุฏุช ุดูุฏ` โ **SUSPECT**
- `ูุบุงุฒู ุทูุงูุฑูุด` โ **LOCATION**  
- `ุทูุง` โ **PRODUCT**
- `ุฎุฑุฏ ุจุฏูู ูพุฑุฏุงุฎุช` โ **SUSPICIOUS_BEHAVIOR**
- `ุงุญุชูุงู ุณุฑูุช` โ **CRIMINAL_INFERENCE** โญ

#### ุฑูุงุจุท ุงุณุชูุชุงุฌ ุดุฏู:
- `SUSPECT:ุญุณู ุฌูุฏุช ุดูุฏ` --[PERFORMED]--> `SUSPICIOUS_BEHAVIOR:ุฎุฑุฏ ุจุฏูู ูพุฑุฏุงุฎุช`
- `SUSPICIOUS_BEHAVIOR:ุฎุฑุฏ ุจุฏูู ูพุฑุฏุงุฎุช` --[INDICATES]--> `CRIMINAL_INFERENCE:ุงุญุชูุงู ุณุฑูุช`

## Entity Types ุฌุฏุฏ ๐ท๏ธ

### ุนููู:
- **INFERENCE**: ุงุณุชูุชุงุฌโูุง ฺฉู
- **RISK_ASSESSMENT**: ุงุฑุฒุงุจ ุฎุทุฑ

### ุญูุฒู ูพูุณ:
- **CRIMINAL_INFERENCE**: ุงุณุชูุชุงุฌโูุง ุฌุฑู
- **SUSPICIOUS_BEHAVIOR**: ุฑูุชุงุฑูุง ูุดฺฉูฺฉ
- **THREAT_LEVEL**: ุณุทุญ ุชูุฏุฏ
- **MOTIVE**: ุงูฺฏุฒู ุงุญุชูุงู

### ุญูุฒู ุญููู:
- **LEGAL_INFERENCE**: ุงุณุชูุชุงุฌโูุง ุญููู
- **VIOLATION_RISK**: ุฎุทุฑ ููุถ ูุงููู

### ุญูุฒู ูพุฒุดฺฉ:
- **MEDICAL_INFERENCE**: ุงุณุชูุชุงุฌโูุง ูพุฒุดฺฉ
- **HEALTH_RISK**: ุฎุทุฑุงุช ุณูุงูุช

## Relationship Types ุฌุฏุฏ ๐

- **INDICATES**: ูุดุงู ูโุฏูุฏ / ุญุงฺฉ ุงุณุช ุงุฒ
- **SUGGESTS**: ูพุดููุงุฏ ูโฺฉูุฏ / ุงุญุชูุงู ุฏุงุฑุฏ
- **IMPLIES**: ุจู ูุนูุง / ูุณุชูุฒู
- **LEADS_TO**: ููุฌุฑ ูโุดูุฏ ุจู
- **CAUSES**: ุจุงุนุซ ูโุดูุฏ

## ูุญูู ุงุณุชูุงุฏู ๐

### 1. ุชุญูู ุชฺฉ ูุฏูู
```python
from langextract import run_extraction

result = run_extraction(
    text="ูุชู ูุดฺฉูฺฉ...",
    language="fa",
    domain="police",  # ููู: ุญูุฒู ูพูุณ ุจุฑุง ุงุณุชูุชุงุฌ ุจูุชุฑ
    model="gemma2:9b"
)

# ุฌุณุชุฌู ููุฌูุฏุชโูุง ุงุณุชูุชุงุฌ
inference_entities = [
    e for e in result["entities"] 
    if e["type"] in ["CRIMINAL_INFERENCE", "SUSPICIOUS_BEHAVIOR"]
]
```

### 2. ุชุญูู ฺูุฏ ูุฏูู ุจุง ุฏุงูุฑ
```python
from langextract import run_multi_model_analysis

result = run_multi_model_analysis(
    text="ูุชู ูุดฺฉูฺฉ...",
    language="fa", 
    domain="police",
    model_first="gemma2:9b",
    model_second="llama3:8b",
    model_referee="llama3:8b"
)

# ุจุฑุฑุณ ุงุณุชูุชุงุฌโูุง ููุง
final_inferences = [
    e for e in result["final_analysis"]["entities"]
    if "INFERENCE" in e["type"] or "SUSPICIOUS" in e["type"]
]
```

### 3. ุงุณุชูุงุฏู ุฏุฑ API
```bash
curl -X POST /api/multi_extract \
  -H "Content-Type: application/json" \
  -d '{
    "text": "ูุชู ูุดฺฉูฺฉ...",
    "language": "fa",
    "domain": "police",
    "model_first": "gemma2:9b",
    "model_second": "llama3:8b", 
    "model_referee": "llama3:8b"
  }'
```

## ุจูุจูุฏูุง Prompt ูุง ๐

### System Prompts:
- **ุนููู**: "ุงุณุชูุชุงุฌโูุง ููุทู ู ุงุญุชูุงูุงุช ุฑุง ุงุฑุฒุงุจ ฺฉูุฏ"
- **ูพูุณ**: "ุฑูุชุงุฑูุง ูุดฺฉูฺฉุ ุงูฺฏุฒูโูุง ุงุญุชูุงูุ ู ุณุทุญ ุชูุฏุฏ ุฑุง ุชุญูู ฺฉูุฏ"
- **ุญููู**: "ุงุญุชูุงู ููุถ ููุงูู ู ุฎุทุฑุงุช ุญููู ุฑุง ุงุฑุฒุงุจ ฺฉูุฏ"
- **ูพุฒุดฺฉ**: "ุฎุทุฑุงุช ุณูุงูุช ู ุงุญุชูุงูุงุช ุชุดุฎุต ุฑุง ุงุฑุฒุงุจ ฺฉูุฏ"

### User Prompts:
- **ูพูุณ**: "ุงฺฏุฑ ูุชู ุญุงฺฉ ุงุฒ ุงุญุชูุงู ุฌุฑู ุงุณุชุ ุขู ุฑุง ุจู ุนููุงู CRIMINAL_INFERENCE ุดูุงุณุง ฺฉูุฏ"

### Few-Shot Examples:
- ูุซุงูโูุง ุชุฎุตุต ุจุฑุง ูุฑ ุญูุฒู
- ูููููโูุง ุงุณุชูุชุงุฌ ุตุญุญ
- ุงูฺฏููุง ุชุดุฎุต ุฑูุชุงุฑ ูุดฺฉูฺฉ

## ุชุณุช ุณุณุชู ๐งช

ุจุฑุง ุชุณุช ูุงุจูุชโูุง ุงุณุชูุชุงุฌ:

```bash
python test_inference_system.py
```

ุงู ุงุณฺฉุฑูพุช:
- โ ุชุณุช prompt ูุง ุงุณุชูุชุงุฌ
- โ ุชุณุช ุจุง ูุชู ูุซุงู ฺฉุงุฑุจุฑ
- โ ููุงุณู ูุชุงุฌ ุญูุฒูโูุง ูุฎุชูู
- โ ุชุณุช ุชฺฉ ูุฏู ู ฺูุฏ ูุฏู (ุงุฎุชุงุฑ)

## ูุซุงูโูุง ุจุดุชุฑ ๐

### ูุชู ุญููู:
```
ุขูุง ุงุญูุฏ ูุฑุงุฑุฏุงุฏ ุฑุง ุงูุถุง ฺฉุฑุฏ ุงูุง ุดุฑุงุท ุฑุง ูุฎูุงูุฏ ู ุญุงูุง ูุนุชุฑุถ ุงุณุช.
```
**ุงุณุชูุชุงุฌ**: `ููุถ ุงุญุชูุงู ุงุตู ุขฺฏุงูุงูู ุจูุฏู ูุฑุงุฑุฏุงุฏ` (LEGAL_INFERENCE)

### ูุชู ูพุฒุดฺฉ:
```
ุจูุงุฑ 65 ุณุงูู ุจุง ูุดุงุฑ ุฎูู ุจุงูุง ู ุฏุงุจุชุ ุฏุงุฑููุงุด ุฑุง ูุตุฑู ููโฺฉูุฏ.
```
**ุงุณุชูุชุงุฌ**: `ุฎุทุฑ ุญููู ููุจ` (HEALTH_RISK)

### ูุชู ุงููุช:
```
ูุฑุฏ ฺูุฏู ุจุงุฑ ุฏุฑ ุงุทุฑุงู ุจุงูฺฉ ุฏุฏู ุดุฏู ู ุนฺฉุณ ูโฺฏุฑุฏ.
```
**ุงุณุชูุชุงุฌ**: `ุงุญุชูุงู ุดูุงุณุง ุจุฑุง ุณุฑูุช` (CRIMINAL_INFERENCE)

## ูฺฉุงุช ููู โ๏ธ

1. **ุงูุชุฎุงุจ ุญูุฒู ููุงุณุจ**: ุจุฑุง ุจูุชุฑู ูุชุงุฌุ ุญูุฒู ุตุญุญ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. **ูุฏูโูุง ูู**: ูุฏูโูุง ุจุฒุฑฺฏโุชุฑ (7B+) ูุชุงุฌ ุจูุชุฑ ุฏุงุฑูุฏ
3. **Temperature ูพุงู**: ุจุฑุง ุงุณุชูุชุงุฌ ุฏููโุชุฑ ุงุฒ temperature=0.1 ุงุณุชูุงุฏู ฺฉูุฏ
4. **ฺูุฏ ูุฏู**: ุจุฑุง ููุถูุนุงุช ุญุณุงุณ ุงุฒ ฺูุฏ ูุฏู + ุฏุงูุฑ ุงุณุชูุงุฏู ฺฉูุฏ

## ุขูุฏู ุชูุณุนู ๐ฃ๏ธ

- [ ] ุญูุฒูโูุง ุจุดุชุฑ (ูุงูุ ููุ ุงุฌุชูุงุน)
- [ ] ุณุทุญ ุงุทููุงู ุจุฑุง ูุฑ ุงุณุชูุชุงุฌ
- [ ] ุฒูุฌุฑู ุงุณุชุฏูุงู (reasoning chain)
- [ ] ุชุญูู ุนุงุทู ู ูุตุฏ
- [ ] ุชุดุฎุต ฺฉุฐุจ ู ุชูุงูุถ

---

**ูุชุฌู**: ุณุณุชู ุญุงูุง ูุงุฏุฑ ุงุณุช ุงุฒ ูุชู "ุญุณู ุฌูุฏุช ุดูุฏ ุงุญุชูุงูุงู ุฏุฒุฏ ฺฉุฑุฏู ุงุณุช" ุงุณุชูุชุงุฌ ฺฉูุฏ! ๐
