# چت‌بات هوشمند LangExtract 🤖💬

## خلاصه ویژگی جدید

سیستم LangExtract حالا دارای **چت‌بات هوشمند** است که می‌تواند:
- 📝 **متن** دریافت کند
- 🎤 **صدا** ضبط کند (Speech-to-Text)
- 🧠 **پاسخ‌های هوشمند** ارائه دهد
- 🔍 **تحلیل سریع** انجام دهد

## ویژگی‌های چت‌بات 🌟

### 1. **ورودی‌های مختلف**
- **متن**: تایپ مستقیم در چت
- **صدا**: ضبط و تبدیل به متن
- **Enter**: ارسال سریع پیام

### 2. **پاسخ‌های هوشمند**
- **تحلیل خودکار**: اگر متن طولانی باشد
- **پاسخ‌های حوزه‌ای**: بر اساس domain انتخابی
- **راهنمایی**: کمک در استفاده از سیستم

### 3. **UI زیبا و کاربردی**
- **طراحی مدرن**: مطابق بقیه سیستم
- **پیام‌های رنگی**: آبی برای کاربر، سفید برای سیستم
- **نمایش زمان**: timestamp برای هر پیام
- **Audio player**: پخش صداهای ضبط شده

## نحوه استفاده 🚀

### 1. **چت متنی**
```
کاربر: "این متن را تحلیل کن: علی در تهران کار می‌کند"
سیستم: "متن شما تحلیل شد:
- 2 موجودیت شناسایی شد  
- 1 رابطه یافت شد"
```

### 2. **چت صوتی**
1. دکمه "🎤 ضبط" را کلیک کنید
2. پیام خود را بگویید
3. "⏹️ توقف" را کلیک کنید
4. صدا به متن تبدیل و ارسال می‌شود

### 3. **سوالات عمومی**
```
کاربر: "چطور از این سیستم استفاده کنم؟"
سیستم: "برای تحلیل متن، متن خود را در بخش بالا وارد کنید و..."
```

## API Endpoint جدید 📡

### درخواست:
```http
POST /api/chat
Content-Type: application/json

{
  "message": "پیام کاربر",
  "language": "fa",
  "domain": "police",
  "model": "gemma3:4b"
}
```

### پاسخ:
```json
{
  "message": "پاسخ سیستم",
  "analysis": {
    "entities": [...],
    "relationships": [...],
    "interpretations": [...]
  }
}
```

## قابلیت‌های هوشمند 🧠

### 1. **تشخیص نیت**
- اگر کلمات "تحلیل"، "استخراج" در پیام باشد → تحلیل انجام می‌دهد
- در غیر این صورت → پاسخ معمولی می‌دهد

### 2. **تحلیل سریع**
- برای متون طولانی‌تر از 50 کاراکتر
- استفاده از مدل انتخاب شده
- نمایش خلاصه نتایج

### 3. **پاسخ‌های حوزه‌ای**
- **پلیسی**: تمرکز بر امنیت و جرم
- **حقوقی**: تمرکز بر قوانین و مقررات
- **پزشکی**: تمرکز بر سلامت و درمان
- **عمومی**: پاسخ‌های کلی

## مثال‌های کاربرد 📋

### سوالات راهنمایی:
```
"چطور از چند مدل استفاده کنم؟"
"تفاوت حوزه‌های مختلف چیست؟"
"کدام مدل بهتر است؟"
```

### درخواست تحلیل:
```
"این متن را تحلیل کن: احمد در دادگاه حاضر شد"
"موجودیت‌های این متن چیست: بیمار تب دارد"
```

### چت صوتی:
```
🎤 "سلام، این سیستم چطور کار می‌کند؟"
🎤 "لطفاً این متن را بررسی کن..."
```

## ویژگی‌های فنی ⚙️

### Frontend:
- **MediaRecorder API**: ضبط صدا
- **Speech Recognition**: تبدیل صدا به متن (آینده)
- **Real-time Chat**: پیام‌رسانی زنده
- **Audio Playback**: پخش صداهای ضبط شده

### Backend:
- **Conversational AI**: پاسخ‌های طبیعی
- **Auto Analysis**: تحلیل خودکار
- **Domain Expertise**: تخصص حوزه‌ای
- **Error Handling**: مدیریت خطا

## طراحی UI 🎨

### Chat Container:
```css
┌─────────────────────────────────────────┐
│ 💬 چت با سیستم تحلیل                   │
│ سوالات خود را بپرسید یا صدا ضبط کنید   │
├─────────────────────────────────────────┤
│                                  [پیام] │
│ [پاسخ سیستم]                           │
│                                  [پیام] │
├─────────────────────────────────────────┤
│ [input] [ارسال] [🎤 ضبط]               │
└─────────────────────────────────────────┘
```

### رنگ‌بندی:
- **پیام کاربر**: آبی (`#3b82f6`)
- **پاسخ سیستم**: سفید با border
- **در حال ضبط**: قرمز با انیمیشن

## مزایای چت‌بات 🎯

1. **تعامل طبیعی**: صحبت با سیستم
2. **دسترسی سریع**: بدون نیاز به فرم‌ها
3. **راهنمایی**: کمک در استفاده
4. **تحلیل فوری**: برای متون کوتاه
5. **چندرسانه‌ای**: متن + صدا

---

**نتیجه**: حالا کاربران می‌توانند با سیستم **صحبت کنند** و سوالات خود را **بپرسند**! 🎉

